<!--
Global options are set before the first heading.
Then they may be changed any time and stay changed.
Use an empty set in order to reset options to global.
-->

<!--HLF:
    Language = English,English;
    PluginContents = Demo help;
    TopicHeading = h2;
    Margin = 1;
    IndentCode = 4;
    IndentList = 2;
    IndentPara = 0;
    IndentQuote = 4;
    CenterHeading = false;
    PlainCode = false;
    PlainHeading = false;
    EmptyLinesBeforeTopic = 1;
    EmptyLinesAfterHeading = 1;
    EmptyLinesBeforeHeading = 1;
    HighlightListBullet = false;
    HighlightListNumber = false;
    ListBullet = ;
-->

<!--The first heading becomes the main help topic "Contents"-->
# Markdown for Far Manager help

<!--Useful shortcut for frequent links to the main help topic-->
[Contents]: #markdown-for-far-manager-help

This file is an example of *HelpDown* Markdown for conversion to HLF via HTML.
It shows features suitable for conversion, some cases interesting for syntax
highlighting by *Colorer* with *markdown.hrc*, and some boring test cases.

GitHub renders this file as the usual Markdown and this is very good.
See also its raw Markdown for useful details including HTML comments.

### Features

* [Headings](#headings)
* [Emphasis](#emphasis)
* [Paragraphs](#paragraphs)
* [Code blocks](#code-blocks)
* [Blockquotes](#blockquotes)
* [Backslash escapes](#backslash-escapes)
* [Lists](#lists)
* [Links](#links)
* [Misc](#misc)

### Test cases

* [Italic, bold, code across lines](#italic-bold-code-across-lines)
* [List text should be unindented](#list-text-should-be-unindented)
* [Trim new lines in list text](#trim-new-lines-in-list-text)
* [Escape ~, #, @ in HLF](#escape----in-hlf)
* [Emphasis of "#"](#emphasis-of-)
* [Eaten spaces](#eaten-spaces)
* [Line breaks issue 44](#line-breaks-issue-44)

*********************************************************************
<!--Other topics are headings less than or equal to `TopicHeading`-->
## Headings

<!--This is the shortcut link to the main topic-->
[Contents]

The main help topic "Contents" is defined by the first heading. Other topics
are defined by headings with identifiers with their levels less than or equal
to the option `TopicHeading`.

In this sample all headings have identifiers generated by GFM. In order to use
headings `h3` - `h6` as internal, we set `TopicHeading = h2` globally.

### Headings in topics

Default headings are left aligned and emphasized so that in HLF they look like
highlighted text.

Options `CenterHeading` and `PlainHeading` change the heading style:

<!--HLF: CenterHeading = true-->
### Heading with `CenterHeading = true`

In HLF viewer the above heading is in the center with usual strong text.

<!--HLF: PlainHeading = true-->
### Heading with `PlainHeading = true` may use emphasis: *Italic*, **Bold**, `Code`

In HLF viewer the above heading is in the center with plain and strong text.

<!--HLF:-->
### Heading with the global style again

HTML comment directive `<!--HLF:-->` resets options to global.

*********************************************************************
## Emphasis

[Contents]

Simple samples: *italic1* and _italic2_ and **bold1** and __bold2__

Emphasis with underscore works as long as you emphasize whole words like this:

_This is italic_

__This is bold__

**NOTE**:
Avoid edge cases like using "." in the end of the above sentences.
Colorer scheme cannot threat such edge cases correctly.
Also, markdown converters may work differently:
Pandoc treats as emphasis, MarkdownDeep does not.

Asterisks for emphasis work in more cases than underscores:

*This is italic* and *This is italic*.

**This is bold** and **This is bold**.

***
### Nested cases

Not all but many nested emphasis, code spans, and links are supported by
*Colorer* with *markdown.hrc*. In HLF viewer this does not make much sense.

Examples:

+ text ***bold+italic and even `code` and [link](#headings) inside*** text
+ text **bold *bold+italic* bold `code` bold [link](#headings) bold** text
+ text *italic **bold+italic** italic `code` italic [link](#headings) italic* text


*********************************************************************
## Paragraphs

[Contents]

A paragraph starts with the start of a line
and consists of all following not empty lines
    including
        indented.
HLF: Indentation is removed.



This is the second paragraph.
At least one empty line separates paragraphs.
HLF: Two and more empty lines are replaced with one.


*********************************************************************
## Code blocks

[Contents]

### Strong code blocks (`PlainCode = false`)

Indented code block:

    # converted literally: <bar> `bar` *bar* **bar**
    2b || !2b

Fenced code block with tildes:

~~~
$x = 1 + 1
Write-Host $x
~~~

Fenced code block with backticks:

```
$x = 1 + 1
Write-Host $x
```

***
### Plain code blocks (`PlainCode = true`)

<!--HLF: PlainCode = true-->

Indented code block:

    # converted literally: <bar> `bar` *bar* **bar**
    2b || !2b

Fenced code block:

~~~
$x = 1 + 1
Write-Host $x
~~~

<!--HLF:-->

*********************************************************************
## Blockquotes

[Contents]

Blockquotes are used to indent paragraphs, lists, and code blocks.

> Blockquotes starts with the `>` mark.
Marks can be at any line
or just the first line.

Multiple quotes are also supported:

>> This paragraph
>> is double quoted.

Quoted list:

> * Item 1.
> * Item 2.
>
>     Paragraph in list.
>
>         Code block in list.

Double quoted list:

>> * Item 1.
>> * Item 2.
>>
>>     Paragraph in list.
>>
>>         Code block in list.

Quoted code block (5+ spaces after marks):

>     code
>     code

Double quoted code block (5+ spaces after marks):

>>     code
>>     code

*********************************************************************
## Backslash escapes

[Contents]

GFM: Any ASCII punctuation character may be backslash-escaped:

* \!\"\#\$\%\&\'\(\)\*\+\,\-\.\/\:\;\<\=\>\?\@\[\\\]\^\_\`\{\|\}\~
* ``!"#$%&'()*+,-./:;<=>?@[\]^_`{|}~``

PHP Markdown Extra:

* \\\`\*\_\{\}\[\]\(\)\>\#\+\-\.\!\:\|\=\<
* ``\`*_{}[]()>#+-.!:|=<``

Standard Markdown:

* \\\`\*\_\{\}\[\]\(\)\>\#\+\-\.\!
* ``\`*_{}[]()>#+-.!``

Examples:

- Not \*\*bold**
- Not \*italic*
- Not \[link]
- Not \`code`

Nothing is escaped in code spans surrounded by single or multiple backticks.
Consider using code spans when in doubts about escaping.


*********************************************************************
## Lists

[Contents]

### Unordered list:

* Item 1.
* Item 2.
More item 2.

### Ordered list:

1. Apples
1. Pears
1. Bananas
and oranges

### List with paragraphs and code:

* Item 1.
    More item 1.

    Paragraph 2.
    More text.

* Item 2.
    More item 2.

    Paragraph 2.
    More text.

        This is 2+/8+ tab/space
        formatted indented code.

    Paragraph 3
    of the item.

### Ordered list with paragraphs and code:

1. Item 1.
Paragraph 1.

    Item 1,
    paragraph 2.

        This is 2+/8+ tab/space
        formatted indented code.

    Item 1,
    paragraph 3.

### HTML comment separates lists:

- apple
- banana
<!---->
- cat
- dog

### Nested tight list:

- item 1
    - item 1.1
        - item 1.1.1
        - item 1.1.2
    - item 1.2
- item 2

### Nested loose list with paragraphs and code:

- item 1
para 1.1

    para
    1.2

    - item 1.1
    para 1.1.1

        para 1.1.2

            $x = 1
            Write-Host $x

    - item 1.2
    para 1.2.1

        para 1.2.2

    para
    1.3

- item 2
para 2.1

<!--HLF:
    HighlightListBullet = true;
    HighlightListNumber = true;
    ListBullet = ⚠️
-->

### HighlightListBullet

* Item 1.
* Item 2.

### HighlightListNumber

1. Apples
1. Pears

<!--HLF:-->

*********************************************************************
## Links

[Contents]
[Internal link](#headings)
[Another internal](#headings)
[Link with shortcut][Contents]

### Web links

* Automatic: <https://github.github.com/gfm/>
* With text: [GFM](https://github.github.com/gfm/)

### E-mails

* Automatic: <John.Doe@gmail.com>
* With text: [John Doe](mailto:John.Doe@gmail.com)

### Link text across lines

Link text across lines is allowed and colored by Colorer:

This is a link [Go To
Headings](#headings) across lines.

### Colorer: special case

This is not a link: [Go To Contents].
But it is treated as link because it is *potentially* a link.

### Ignore formatting in links, issue 45

[_em_ text](https://github.com/nightroman/FarNet/issues/45)

[text _em_](https://github.com/nightroman/FarNet/issues/45)

[text **_mix_** text](https://github.com/nightroman/FarNet/issues/45)

*********************************************************************
## Misc

[Contents]

HTML tag "kbd": <kbd>F4</kbd>, <kbd>Ctrl+A</kbd>

*********************************************************************
## Italic, bold, code across lines

(test case)

Each following paragraph has two source lines with italic, bold, and code text
starting at the first line and ending at the second. This is a special case on
conversion to HLF.

Some *italic
text* across lines.

Some **bold
text** across lines.

Some `code
text` across lines.


*********************************************************************
## List text should be unindented

(test case)

* Item 1.
   3 leading spaces are to be removed in HLF.
* Item 2.


*********************************************************************
## Trim new lines in list text

(test case)

* Item 1.
    4 leading spaces result in leading and trailing new lines in HTML.
* Item 2.


*********************************************************************
## Escape ~, #, @ in HLF

(test case)

Symbols ~, #, @ are doubled in HLF.

    # Same in code:
    Get-Item ~\#@.txt

*********************************************************************
## Emphasis of "#"

(test case)

Far cannot treat emphasis with a leading "#" correctly, the "#" is not
emphasised, as a result.

Italic: *#text*

Bold: **#text**

Code: `#text`


*********************************************************************
## Eaten spaces

(test case)

need
space

* need
space

---

* item

    need space
    `code`

    need space
    **bold**

    need space
    *italic*

---

need space
`code`

need space
**bold**

need space
*italic*

---

* item

    `code`
    need space

    **bold**
    need space

    *italic*
    need space

---

`code`
need space

**bold**
need space

*italic*
need space

---

* item

    `need`
    `space`

    **need**
    **space**

    *need*
    *space*

---

`need`
`space`

**need**
**space**

*need*
*space*

*********************************************************************
## Line breaks issue 44

line1\
line2

line1\
[link](https://github.com/nightroman/FarNet/issues/44)

line1\
`code`

line1\
**bold**

line1\
*italic*

- item1\
  line2

    issue 44\
    [link](https://github.com/nightroman/FarNet/issues/44)

    issue 44\
    see [link](https://github.com/nightroman/FarNet/issues/44)

*********************************************************************

<!--HLF:
    EmptyLinesBeforeTopic = 2;
    EmptyLinesAfterHeading = 2;
    EmptyLinesBeforeHeading = 2;
-->

## Custom empty lines
### First internal heading

some text

### Heading after para
### Heading after heading

here we reset options to default

<!--HLF:-->

### Heading after para
### Heading after heading

some text

*********************************************************************
